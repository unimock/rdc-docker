version: '2'
services:
  rdc:
    ##################################################
    # BUILD section
    ##################################################
    build:
      context: ./build
      dockerfile: Dockerfile
      args:
        DOCKER_IMAGE: docker:17.07.0-ce
        ALPINE_IMAGE: alpine:3.6
    ##################################################
    # RUN section
    ##################################################
    image: unimock/rdc-docker:0.1.2
    restart: unless-stopped
    container_name: rdc.XXX
    hostname: rdc.XXX
    privileged: true
    ports:
     - "24277:22"
    environment:
      - RDC_PORT=24277
    volumes:
     - /Docker/rdc/service:/service               # ./ovw/etc/rsnapshot.conf, ...
     - /Docker:/Docker
     - /var/run/docker.sock:/var/run/docker.sock  # only for docker client
volumes:  
  configure:
    driver: local

